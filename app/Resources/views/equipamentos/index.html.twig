{% extends 'admin/index.html.twig' %}
{% block main %}
    <h1>Equipamentos</h1>
    <a href="{{ path('admin_equipamentos_novo') }}" class="btn btn-sm btn-primary">Novo</a>
    <hr>
    {% if equipamentos|length > 0 %}
        <table class="table table-responsive">
            <tr>
                <th>Setor</th>
                <th>Nome</th>
                <th>Equipamento</th>
                <th>Foto</th>
                <th>Status</th>
                <th>Opções</th>
            </tr>
            {% for equipamento in equipamentos %}
                <tr>
                    <td>{{ equipamento.setor }}</td>
                    <td>{{ equipamento.nome }}</td>
                    <td>{{ equipamento }}</td>
                    <td><img src="{{ vich_uploader_asset(equipamento, 'imageFile') }}" alt="{{ equipamento }}" class="img-responsive foto-table"></td>
                    <td>{{ equipamento.status }}</td>
                    <td>
                        <a href="{{ path('admin_equipamentos_info', { 'id': equipamento.id }) }}" class="btn btn-sm btn-default">Info</a>
                        <a href="{{ path('admin_equipamentos_editar', { 'id': equipamento.id }) }}" class="btn btn-sm btn-warning">Editar</a>
                        <a href="{{ path('admin_equipamentos_excluir', { 'id': equipamento.id }) }}" class="btn btn-sm btn-danger">Excluir</a>
                    </td>
                </tr>
            {% endfor %}
        </table>
        {{ knp_pagination_render(equipamentos) }}
    {% else %}
        <h2>Nenhum equipamento cadastrado</h2>
    {% endif %}
{% endblock %}